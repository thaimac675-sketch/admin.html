<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel - SHOP THAIPP</title>
    <style>
        body { font-family: sans-serif; background: #f1f5f9; padding: 20px; }
        .admin-container { max-width: 800px; margin: auto; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .box { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h2 { color: #e11d48; border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; margin-top: 0; }
        input, select { width: 100%; padding: 10px; margin: 8px 0; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; color: white; margin-top: 10px; }
        .btn-add { background: #2563eb; }
        .btn-money { background: #16a34a; }
        .list-item { font-size: 13px; padding: 8px; border-bottom: 1px solid #eee; }
    </style>
</head>
<body>

<div class="admin-container">
    <div class="box">
        <h2>üì¶ ƒêƒÇNG ACC</h2>
        <input type="text" id="t" placeholder="Ti√™u ƒë·ªÅ (Vd: Acc Tr·∫Øng Th√¥ng Tin)">
        <input type="text" id="img" placeholder="T√™n ·∫£nh (Vd: nakroth.jpg)">
        <input type="number" id="tg" placeholder="S·ªë t∆∞·ªõng">
        <input type="number" id="sk" placeholder="S·ªë trang ph·ª•c">
        <input type="number" id="pr" placeholder="Gi√° b√°n (Vd: 500000)">
        <select id="cat">
            <option value="50">D∆∞·ªõi 50k</option>
            <option value="150">D∆∞·ªõi 150k</option>
            <option value="500">D∆∞·ªõi 500k</option>
            <option value="2000">D∆∞·ªõi 2M</option>
        </select>
        <div style="background: #fff1f2; padding: 10px; border-radius: 5px; margin-top: 10px;">
            <p style="margin:0 0 5px 0; font-size:12px; font-weight:bold; color:#e11d48;">Th√¥ng tin ƒëƒÉng nh·∫≠p (Kh√°ch mua m·ªõi th·∫•y):</p>
            <input type="text" id="tk_acc" placeholder="T√†i kho·∫£n game">
            <input type="text" id="mk_acc" placeholder="M·∫≠t kh·∫©u game">
        </div>
        <button class="btn-add" onclick="saveAcc()">ƒêƒÇNG L√äN SHOP</button>
    </div>

    <div class="box">
        <h2>üí∞ C·ªòNG TI·ªÄN USER</h2>
        <p style="font-size: 12px; color: #64748b;">Nh·∫≠p ch√≠nh x√°c t√™n t√†i kho·∫£n kh√°ch ƒë√£ ƒëƒÉng k√Ω.</p>
        <input type="text" id="user_target" placeholder="T√™n t√†i kho·∫£n kh√°ch">
        <input type="number" id="amount" placeholder="S·ªë ti·ªÅn c·∫ßn c·ªông (Vd: 100000)">
        <button class="btn-money" onclick="addMoney()">C·ªòNG TI·ªÄN NGAY</button>

        <h2 style="margin-top: 30px;">Danh s√°ch Acc ƒëang b√°n</h2>
        <div id="list-acc" style="max-height: 200px; overflow-y: auto; background: #f8fafc; border-radius: 5px;"></div>
    </div>
</div>

<script>
    // 1. H√ÄM ƒêƒÇNG ACC
    function saveAcc() {
        const acc = {
            id: Date.now(),
            title: document.getElementById('t').value,
            img: document.getElementById('img').value,
            tuong: document.getElementById('tg').value,
            skin: document.getElementById('sk').value,
            price: document.getElementById('pr').value,
            cat: document.getElementById('cat').value,
            tk: document.getElementById('tk_acc').value,
            mk: document.getElementById('mk_acc').value
        };

        if(!acc.title || !acc.tk || !acc.mk || !acc.price) {
            alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin Acc v√† TK/MK!");
            return;
        }

        let list = JSON.parse(localStorage.getItem("shop_accs") || "[]");
        list.push(acc);
        localStorage.setItem("shop_accs", JSON.stringify(list));
        alert("ƒê√£ ƒëƒÉng Acc th√†nh c√¥ng!");
        location.reload();
    }

    // 2. H√ÄM C·ªòNG TI·ªÄN (QUAN TR·ªåNG)
    function addMoney() {
        const username = document.getElementById('user_target').value.trim();
        const moneyToAdd = parseInt(document.getElementById('amount').value);

        if(!username || isNaN(moneyToAdd)) {
            alert("Vui l√≤ng nh·∫≠p t√™n user v√† s·ªë ti·ªÅn h·ª£p l·ªá!");
            return;
        }

        // L·∫•y s·ªë d∆∞ hi·ªán t·∫°i c·ªßa user ƒë√≥
        let currentBalance = parseInt(localStorage.getItem("balance_" + username) || "0");
        
        // C·ªông th√™m ti·ªÅn
        let newBalance = currentBalance + moneyToAdd;
        
        // L∆∞u l·∫°i v√†o h·ªá th·ªëng
        localStorage.setItem("balance_" + username, newBalance);

        alert(`ƒê√£ c·ªông th√†nh c√¥ng ${moneyToAdd.toLocaleString()}ƒë cho t√†i kho·∫£n [${username}]. \nS·ªë d∆∞ m·ªõi: ${newBalance.toLocaleString()}ƒë`);
        
        // Reset √¥ nh·∫≠p
        document.getElementById('user_target').value = "";
        document.getElementById('amount').value = "";
    }

    // 3. HI·ªÇN TH·ªä DANH S√ÅCH ƒê·ªÇ QU·∫¢N L√ù
    function showAccs() {
        const list = JSON.parse(localStorage.getItem("shop_accs") || "[]");
        const container = document.getElementById('list-acc');
        if(list.length === 0) {
            container.innerHTML = "<p style='padding:10px;'>Ch∆∞a c√≥ acc n√†o.</p>";
            return;
        }
        list.reverse().forEach((acc, index) => {
            container.innerHTML += `
                <div class="list-item">
                    <b>${acc.title}</b> - ${parseInt(acc.price).toLocaleString()}ƒë 
                    <button onclick="deleteAcc(${acc.id})" style="width:auto; padding:2px 8px; background:red; float:right; margin:0;">X√≥a</button>
                </div>`;
        });
    }

    function deleteAcc(id) {
        if(confirm("B·∫°n mu·ªën x√≥a Acc n√†y?")) {
            let list = JSON.parse(localStorage.getItem("shop_accs") || "[]");
            list = list.filter(a => a.id !== id);
            localStorage.setItem("shop_accs", JSON.stringify(list));
            location.reload();
        }
    }

    window.onload = showAccs;
</script>

</body>
</html>
